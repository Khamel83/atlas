# Atlas Configuration Template
# Copy this file to .env and customize as needed

# Basic Configuration
DATA_DIRECTORY=output
TRANSCRIBE_ENABLED=false

# OpenRouter API Configuration (for Unified AI System)
OPENROUTER_API_KEY=
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1

# AI System Configuration
AI_FEATURES_ENABLED=true
AI_CACHING_ENABLED=true
AI_FALLBACKS_ENABLED=true

# AI Budget Management
DAILY_AI_BUDGET=10.0
MONTHLY_AI_BUDGET=100.0
EMERGENCY_STOP_THRESHOLD=50.0
HOURLY_REQUEST_LIMIT=100

# AI Model Configuration
AI_MODEL=meta-llama/llama-3.1-8b-instruct
AI_TIMEOUT=90
LLM_MAX_RETRIES=2
MAX_COST_PER_REQUEST=0.10

# Performance Settings
PREFER_ECONOMY_MODELS=true
MAX_FALLBACK_ATTEMPTS=2

# Optional: Local Whisper path for transcription
WHISPER_PATH=/usr/local/bin/whisper

# Optional: Transcription backend (api or local)
TRANSCRIBE_BACKEND=local

# Legacy: AI model for processing (deprecated - use AI_MODEL instead)
MODEL=google/gemini-2.0-flash-lite-001

# Optional: Logging level
LOG_LEVEL=INFO

# Optional: Maximum retries for failed items
MAX_RETRIES=3

# Optional: Processing timeout in minutes
PROCESSING_TIMEOUT=30

# Full-Text Search Configuration (requires Meilisearch)
MEILISEARCH_HOST=http://localhost:7700
MEILISEARCH_INDEX=atlas_content
# MEILISEARCH_API_KEY=  # Optional: API key for production deployments

# Enhanced Deduplication Settings
SIMILARITY_THRESHOLD=0.8
FAST_DUPLICATE_CHECK=true
CONTENT_DUPLICATE_CHECK=true

# Search Settings
SEARCH_LIMIT=50
INDEX_BATCH_SIZE=100

# Document Processing Configuration
DOCUMENT_OUTPUT_PATH=output/documents
TEMP_DIRECTORY=temp
DOCUMENT_STRATEGY=auto
DOCUMENT_EXTRACT_IMAGES=false
DOCUMENT_EXTRACT_TABLES=true
DOCUMENT_OCR_LANGUAGES=eng
DOCUMENT_MAX_CHARACTERS=1500
DOCUMENT_NEW_AFTER_N_CHARS=1000
DOCUMENT_OVERLAP=200

# Skyvern Browser Automation Configuration
SKYVERN_ENABLED=false
SKYVERN_BASE_URL=https://api.skyvern.com
SKYVERN_API_KEY=your_skyvern_api_key
SKYVERN_MAX_RETRIES=2
USE_TRADITIONAL_SCRAPING=true

# Site-specific credentials for paywall bypass
NYTIMES_USERNAME=your_nytimes_email  # pragma: allowlist secret
NYTIMES_PASSWORD=your_nytimes_password  # pragma: allowlist secret
WSJ_USERNAME=your_wsj_email  # pragma: allowlist secret
WSJ_PASSWORD=your_wsj_password  # pragma: allowlist secret

# Gmail API Configuration for Newsletter Integration (Block 16)
GMAIL_ENABLED=false
GMAIL_CREDENTIALS_PATH=email_download_historical/credentials.json
GMAIL_TOKEN_PATH=email_download_historical/token.json
GMAIL_LABEL_NAME=Newsletter
GMAIL_SYNC_FREQUENCY=30  # minutes
GMAIL_MAX_EMAILS_PER_SYNC=100
GMAIL_SAVE_FOLDER=output/emails
GMAIL_HTML_FOLDER=output/emails/html
# Path Configuration (for portability)
ATLAS_ROOT=/home/ubuntu/dev/atlas
ATLAS_BACKUP_DIR=${ATLAS_ROOT}/backups
ATLAS_BACKUP_KEY_PATH=${ATLAS_BACKUP_DIR}/.backup_key
ATLAS_TEMP_DIR=/tmp
ATLAS_SSH_DIR=~/.ssh
